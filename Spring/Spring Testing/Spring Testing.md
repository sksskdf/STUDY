어플리케이션을 개발할때, 어플리케이션이 예상과 같이 동작하는지에 대해 확인해야 합니다.
이러한 일을 하기 위한 가장 편리한 방법은 테스트를 작성하고 소스코드의 변화가 생기면
자동적으로 실행되게 하는 것입니다.
그러나 테스트를 작성하는것은 쉬운 일은 아닙니다.
더 나아가, 프레임워크가 관리하는 어플리케이션을 개발할때는 더욱 복잡해집니다.
왜냐하면 프레임워크 어플리케이션의 아키텍쳐를 제한하고
프레임워크가 요구하는 개념이 있기 때문입니다.

이번장에서는 스프링어플리케이션을 테스팅하는 기초적인 방법과 
스프링 테스팅의 기술적인 이해를 도울 것 입니다.

- 스프링어플리케이션 테스팅에 숨겨진 개념
일반적인 스프링어플리케이션은 빈이라고 불리는 컨테이너 관리 객체와
DI메커니즘의 도움으로 구현된 여러 레이어로 구성됩니다.
대부분 어플리케이션은 API 레이어, 핵심로직레이어와 DB접근 레이어를 포함합니다.
스프링부트는 이러한 레이어들에 대한 유닛테스트와 통합테스트를 지원합니다.
유닛테스트는 하나의 빈에 대한 테스트이고 통합테스트는 의존성에 따라 여러 빈을
함께 테스트해야 할 때 사용합니다.

순수한 자바어플리케이션과 스프링기반의 어플리케이션의 주요 차이점은
스프링의 경우 컨테이너가 관리하는 객체들을 테스트해야하고
이 말은 테스트시 컨테이너를 실행하고 가짜 컨테이너를 실행해야 함을 의미합니다.
(또한 모든 스프링어플리케이션의 뼈대를 이루는 빈들을 테스트하려면 기본자바클래스들 또한
같이 테스트해야합니다.)

통합테스트는 스프링 컨텍스트, DI, 가능한 DB 접근 등 상호간의 강한의존성 때문에
테스트를 시작하고 실행하는데 많은 시간이 필요합니다.
가장 좋은 방법은 이러한 통합테스트를 일반적으로 가볍고 빠른 단위테스트로 나누는 것입니다.
예를들어 메이븐을 사용한다고 했을때 통합테스트를 위한 개별적인 모듈을 만들고
어플리케이션을 빌드할 때마다 많은 시간이 걸리지 않도록 주기적으로만 실행할 수 있습니다.

또한 현대의 스프링어플리케이션은 보통 메이븐과 그래들을 많이 사용하고
작성된 테스트들은 도구의 생명주기에 통합됩니다.
동시에 자바 어플리케이션 또한 마찬가지 입니다.

- 스프링부트 테스트를 위한 라이브러리
자바 생태계는 유닛테스트와 통합테스트를 위한 다양하고 놀라운 라이브러리들을 포함합니다.
그 중 가장 유명한것은 JUnit입니다.
이 라이브러리는 테스트를 관리하기 위한 많은 기능을 제공합니다.
JUnit은 또한 스프링기반의 어플리케이션에서도 사용할 수 있습니다.
그러나 컨테이너관리 객체와 함께 JUnit을 사용하려면 
테스트를 위한 컨테이너 실행을 대신 해줄 도구가 필요합니다.
이런 필요한 모든 도구들은 스프링 테스팅 프레임워크에 포함되어 있습니다.

스프링부트는 편리한 스타터모듈을 제공합니다.
spring-boot-starter-test는 spring-test와 JUnit, 일반적으로 사용하는 다양한 라이브러리들을 포함합니다.

* Mockito 는 가짜자바객체를 만듭니다. 의존성을 가짜객체로 대체하여 외부의존성이 있는
객체나 클래스들에 대한 단위테스트를 단순화합니다.
* AssertJ는 인간친화적 API를 제공하여 테스트성공여부를 확인 할 수 있습니다.
* Hamcrest는 선언적 매처를 추가하여 테스트 작성을 지원합니다.

스타터에는 이 뿐만아니라 다른 다양한 라이브러리들도 포함되어 있습니다.
라이브러리 목록에는 JSON과 XML 포맷을 처리하는데 유용한 라이브러리도 있습니다.



